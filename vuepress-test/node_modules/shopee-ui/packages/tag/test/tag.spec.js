import Vue from 'vue';
import ShopeeTag from '../index';
import { createInstance, destroyInstance } from '@/test/utils';

Vue.use(ShopeeTag);

describe('tag.vue', () => {
  let vm;
  afterEach(() => {
    destroyInstance(vm);
  });
  it('should render correct', () => {
    vm = createInstance(ShopeeTag);
    expect(vm.$el.classList.contains('shopee-tag')).to.be.true;
  });
  it('should render correct type:information', () => {
    vm = createInstance(ShopeeTag, { type: 'information' });
    expect(vm.$el.classList.contains('shopee-tag__information')).to.be.true;
  });
  it('should render correct type:explain', () => {
    vm = createInstance(ShopeeTag, { type: 'explain' });
    expect(vm.$el.classList.contains('shopee-tag__explain')).to.be.true;
  });
  it('should render correct type:promotion', () => {
    vm = createInstance(ShopeeTag, { type: 'promotion' });
    expect(vm.$el.classList.contains('shopee-tag__promotion')).to.be.true;
  });
  it('should render correct type:expired', () => {
    vm = createInstance(ShopeeTag, { type: 'expired' });
    expect(vm.$el.classList.contains('shopee-tag__expired')).to.be.true;
  });
  it('should render correct type:campaign', () => {
    vm = createInstance(ShopeeTag, { type: 'campaign' });
    expect(vm.$el.classList.contains('shopee-tag__campaign')).to.be.true;
  });
  it('should render correct type:highlight', () => {
    vm = createInstance(ShopeeTag, { type: 'highlight' });
    expect(vm.$el.classList.contains('shopee-tag__highlight')).to.be.true;
  });
  it('should render correct type:flag', () => {
    vm = createInstance(ShopeeTag, { type: 'flag' });
    expect(vm.$el.classList.contains('shopee-tag__flag')).to.be.true;
  });
  it('should render correct type:flag size:large', () => {
    vm = createInstance(ShopeeTag, { type: 'flag', size: 'large'});
    expect(vm.$el.classList.contains('shopee-tag__flag')).to.be.true;
    expect(vm.$el.classList.contains('shopee-tag--large')).to.be.true;
  });
  it('should render correct status:info', () => {
    vm = createInstance(ShopeeTag, {type: 'information', status: 'default'});
    expect(vm.$el.classList.contains('default')).to.be.true;
  });
  it('should render correct status:warn', () => {
    vm = createInstance(ShopeeTag, { type: 'information', status: 'warn' });
    expect(vm.$el.classList.contains('warn')).to.be.true;
  });
  it('should render correct status:error', () => {
    vm = createInstance(ShopeeTag, { type: 'information', status: 'error' });
    expect(vm.$el.classList.contains('error')).to.be.true;
  });
  it('should render correct status:info', () => {
    vm = createInstance(ShopeeTag, {type: 'information', status: 'info'});
    expect(vm.$el.classList.contains('info')).to.be.true;
  });
  it('should render correct status:success', () => {
    vm = createInstance(ShopeeTag, { type: 'information', status: 'success' });
    expect(vm.$el.classList.contains('success')).to.be.true;
  });
  it('should render correct status:invalid', () => {
    vm = createInstance(ShopeeTag, { type: 'information', status: 'invalid' });
    expect(vm.$el.classList.contains('invalid')).to.be.true;
  });

  it('should validate type correct', () => {
    vm = createInstance(ShopeeTag);
    const type = vm.$options.props.type;
    expect(type.validate('a')).to.be.false;
  });

  it('should validate status correct', () => {
    vm = createInstance(ShopeeTag);
    const type = vm.$options.props.status;
    expect(type.validate('a')).to.be.false;
  });

  it('should validate size correct', () => {
    vm = createInstance(ShopeeTag);
    const type = vm.$options.props.size;
    expect(type.validate('a')).to.be.false;
  });
});
