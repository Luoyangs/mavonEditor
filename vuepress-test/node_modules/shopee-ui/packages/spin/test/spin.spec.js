import Vue from 'vue';
import ShopeeSpin from '../index';
import { createInstance, destroyInstance } from '@/test/utils';

Vue.use(ShopeeSpin);

describe('spin.vue', () => {
  let vm;
  afterEach(() => {
    destroyInstance(vm);
  });

  it('should render correct', () => {
    vm = createInstance(ShopeeSpin);
    expect(vm.$el.classList.contains('shopee-spin')).to.be.true;
  });

  it('should render size correct', () => {
    vm = createInstance(ShopeeSpin,{
      size: 'small'
    });
    expect(!!vm.$el.querySelector('.shopee-spin-icon__small')).to.be.true;
  });

  it('should render fix correct', () => {
    vm = createInstance(ShopeeSpin,{
      fix: true
    });
    expect(!!vm.$el.querySelector('.shopee-spin-content__fix')).to.be.true;
  });

  it('should render mask correct', () => {
    vm = createInstance(ShopeeSpin,{
      fix: true,
      mask: true
    });
    expect(vm.$el.classList.contains('shopee-spin__fix')).to.be.true;
  });

  it('should render tips correct', () => {
    vm = createInstance(ShopeeSpin,{
      tips: 'loading'
    });
    expect(vm.$el.querySelector('.shopee-spin-content-tips').innerText).to.equals('loading');
  });
});
