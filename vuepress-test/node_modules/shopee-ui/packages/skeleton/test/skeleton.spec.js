import Vue from 'vue';
import ShopeeSkeleton from '../index';
import { createInstance, destroyInstance } from '@/test/utils';

Vue.use(ShopeeSkeleton);

describe('skeleton.vue', () => {
  let vm;
  afterEach(() => {
    destroyInstance(vm);
  });

  it('should render correct', () => {
    vm = createInstance(ShopeeSkeleton);
    expect(vm.$el.classList.contains('shopee-skeleton')).to.be.true;
    expect(vm.$el.classList.contains('shopee-skeleton__line')).to.be.true;
  });

  it('should type square correct', () => {
    vm = createInstance(ShopeeSkeleton, {
      type: 'square'
    });
    expect(vm.$el.classList.contains('shopee-skeleton__square')).to.be.true;
  });

  it('should type circle correct', () => {
    vm = createInstance(ShopeeSkeleton, {
      type: 'circle'
    });
    expect(vm.$el.classList.contains('shopee-skeleton__circle')).to.be.true;
  });

  it('should render half line correct', () => {
    vm = createInstance(ShopeeSkeleton, {
      half: true
    });
    expect(!vm.$el.querySelector('.shopee-skeleton__line-second')).to.be.true;
  });
});
