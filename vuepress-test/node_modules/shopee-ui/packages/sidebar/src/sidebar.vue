<template>
  <ul role="sidebar"
    class="shopee-sidebar">
    <slot></slot>
  </ul>
</template>
<script>
import { EventBusMixin } from 'shopee-ui/lib/base';
export default {
  name: 'ShopeeSidebar',
  mixins: [EventBusMixin],
  provide() {
    return {
      root: this
    };
  },
  props: {
    defaultActive: {
      type: String,
      default: ''
    }
  },
  data() {
    return {
      activeIndex: this.defaultActive
    };
  },
  mounted() {
    this.$on('item-click', this.handleItemClick);
  },
  methods: {
    handleItemClick(item) {
      if (item) {
        this.activeIndex = item.index;
        this.$emit('select', item.index, item);
      }
    }
  }
};
</script>
