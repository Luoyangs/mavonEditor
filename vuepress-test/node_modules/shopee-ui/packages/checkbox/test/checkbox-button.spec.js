import Vue from 'vue';
import ShopeeCheckboxButton from '../src/checkbox-button.vue';
import { createInstance, destroyInstance } from '@/test/utils';

Vue.use(ShopeeCheckboxButton);

describe('checkbox-button.vue', () => {
  let vm;
  afterEach(() => {
    destroyInstance(vm);
  });

  const createCheckboxButton = (propsData, mounted) => {
    return createInstance(ShopeeCheckboxButton, propsData, mounted);
  };

  it('should render correct', () => {
    vm = createCheckboxButton();
    expect(vm.$el.classList.contains('shopee-checkbox-button')).to.be.true;
  });

  it('should render correct when disabled', () => {
    vm = createCheckboxButton({
      disabled: true
    });
    expect(vm.$el.classList.contains('disabled')).to.be.true;
  });

  it('should render correct when checked', done => {
    vm = createCheckboxButton({}, true);
    vm.$el.click();
    setTimeout(() => {
      expect(vm.$el.classList.contains('checked')).to.be.true;
      done();
    });
  });
});
