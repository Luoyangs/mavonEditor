import Vue from 'vue';
import ShopeeRadio from '../index';
import { createInstance, destroyInstance, createElement } from '@/test/utils';

Vue.use(ShopeeRadio);

describe('radio.vue', () => {
  let vm;
  afterEach(() => {
    destroyInstance(vm);
  });

  it('should render correct', () => {
    vm = createInstance(ShopeeRadio);
    expect(vm.$el.classList.contains('shopee-radio')).to.be.true;
  });

  it('should render correct when disabled', () => {
    vm = createInstance(ShopeeRadio, {
      disabled: true
    });
    expect(vm.$el.classList.contains('disabled')).to.be.true;
  });

  it('should change the value when clicked', done => {
    vm = new Vue({
      template: '<shopee-radio v-model="value">radio</shopee-radio>',
      data() {
        return {
          value: ''
        };
      }
    }).$mount(createElement());
    vm.$el.click();
    setTimeout(() => {
      expect(vm.value).to.equal('radio');
      done();
    });
  });
});
