<template>
  <div class="shopee-radio-group" :class="[
        sizeClass ? 'shopee-radio-group--' + sizeClass : '',
        type ? 'shopee-radio-group--' + type : '',
        {
            'vertical': layout === 'vertical'
        }
    ]">
    <slot></slot>
  </div>
</template>

<script>
import { EventBusMixin, FormItemMixin } from 'shopee-ui/lib/base';

export default {
  name: 'ShopeeRadioGroup',
  mixins: [EventBusMixin, FormItemMixin],
  props: {
    // which v-mode bind
    value: {},
    disabled: Boolean,
    // vertical or horizontal
    layout: {
      type: String,
      default: 'horizontal'
    },
    // x-large, large, normal, small
    size: {
      type: String,
      validator(value = 'normal') {
        return ['x-large', 'large', 'normal', 'small'].indexOf(value) >= 0;
      }
    },
    // solid, outline
    type: {
      type: String,
      default: 'solid'
    },
    fixWidth: [Boolean, Number]
  },
  created() {
    // listen to change event of radio/radio-button
    this.$on('radio-change', val => {
      this.$emit('input', val);
      if (val !== this.value) {
        this.$emit('change', val);
        this.dispatch('ShopeeFormItem', 'field-change', val);
      }
    });
  }
};
</script>
