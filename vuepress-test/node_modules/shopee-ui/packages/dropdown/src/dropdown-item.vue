<template>
  <li :class="className" @click="onItemClick">
    <shopee-icon :class="prefixClass + '__prefix-icon'" v-if="prefixIcon" :svg="prefixIcon"></shopee-icon>
    <slot></slot>
    <shopee-icon :class="prefixClass + '__suffix-icon'" v-if="suffixIcon" :svg="suffixIcon"></shopee-icon>
  </li>
</template>
<script>
import { Icon as ShopeeIcon } from 'shopee-ui/lib/icon';
import { EventBusMixin } from 'shopee-ui/lib/base';

export default {
  name: 'ShopeeDropdownItem',
  components: {
    ShopeeIcon
  },
  mixins: [EventBusMixin],
  props: {
    name: [String, Number],
    divided: Boolean,
    disabled: Boolean,
    // selected: Boolean,
    prefixIcon: String,
    suffixIcon: String
  },
  data() {
    return {
      prefixClass: 'shopee-dropdown-item'
    };
  },
  computed: {
    className() {
      return [
        this.prefixClass,
        // this.selected ? 'selected' : '',
        this.divided ? 'is-divided' : '',
        this.disabled ? 'disabled' : '',
        this.prefixIcon ? 'has-prefix-icon' : '',
        this.suffixIcon ? 'has-suffix-icon' : ''
      ];
    }
  },
  methods: {
    onItemClick() {
      if (this.disabled) {
        return;
      }
      this.dispatch('ShopeeDropdownMenu', 'dropdown-item-click', this);
    }
  },
};
</script>

