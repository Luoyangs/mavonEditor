# shopee-form
---

### Form props
| Property | Description | Type | Accepted Values | Default |
|:--|:--|:--|:--|:--|
| model | data of form component | Object | - | - |
| rules | validation rules of form | Object | - | - |
| inline | whether the form is inline | Boolean | - | `false` |
| label-position | position of label | String | `right`/`left`/`top` | `right` |
| size | the size of components in this form | String | ~~`x-large`~~/`large`/`normal`/`small` | `normal` |
| show-message | whether to show the error message | Boolean | - | `true` |
| validate-on-rule-change | whether to trigger validation when the `rules` prop is changed | Boolean | - | `true` |
| validate-trigger | default type of trigger validation | String | `change`/`blur` | - |
| autocomplete | native autocomplete | String | `on`/`off` | `off` |

### Form methods
| Method | Description | Parameters |
|:--|:--|:--|
| validate | validate the whole form | `(callback: ({valid, invalidFields}) => void), errorHandle` |
| clearValidate | clear validation message in whole form | - |
| validateFields | validate certain form items | `(props, callback: ({valid, invalidFields}) => void), errorHandle` |
| clearValidateFields | clear validation message for certain fields | `(props)` |

The `validate` and `validateFields` function also return a Promise which will resolve `{valid, invalidFields}`.

### Form events
| Event | Description | Parameters |
|:--|:--|:--|
| validate | triggers after a form item is validated. Affected by change of trigger in rules, maybe triggered more than once, use it with caution | `(validatedProp, validatedResult, validatedData)` |

### FormItem props
| Property | Description | Type | Accepted Values | Default |
|:--|:--|:--|:--|:--|
| prop | a key path of `model`. In the use of validation, the attribute is required | String | - | - |
| label | label of item | String | - | - |
| required | whether the field is required | Boolean | - | - |
| for | native for property of label | String | - | - |
| rules | validation rules of item. Priority is higher than form | Object, Array | - | - |
| size | the size of components in this form item | String | ~~`x-large`~~/`large`/`normal`/`small` | `normal` |
| show-message | whether to show the error message | Boolean | - | `true` |

### FormItem slots
| Name | Description | Properties |
|:--|:--|:--|
| label | content of the label | - |
| error | custom content to display validation message | `error`, `errorMessage` |
| extra | extra prompt message of the item, placed after the error | - |

### FormItem methods
| Method | Description | Parameters |
|:--|:--|:--|
| validate | validate the field in form item | `([trigger, ]callback: (valid) => void), errorHandle` |
| clearValidate | remove validation status of the field | - |

#### `rules`
`rules` is a set of validation rules

```json
{
  [prop1]: [
    { rule A },
    ...
  ],
  [prop2]: [
    { rule B },
    { $each: {
      [childProp1]: [
        { rule C },
        ...
      ]
    }}
  ],
  ...
}

```

`rule` is a separate validation rule for item

```json
{
  validator: function,
  message: string,
  trigger: 'blur' | 'change'
}
```

`validator` is the validation function that will actually be called, and the name can be freely defined
. The arguments of the function is `(value, parentValue, formModel)`. 
