import { t, register, unregister, currentLang } from 'shopee-ui/lib/locale';

export default {
  beforeCreate() {
    register(this);
  },
  data() {
    return {
      _lang: currentLang
    };
  },
  computed: {
    t() {
      // add denpenency tracking
      let lang = this.$data._lang;
      return (...args) => {
        return t.apply(this, [lang].concat(args));
      };
    }
  },
  beforeDestroy() {
    unregister(this);
  }
};
