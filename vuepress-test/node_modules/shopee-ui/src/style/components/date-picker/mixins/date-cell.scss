@import '../../../var';

$in-range-bg: $primary-color-hover;
$in-range-bg-hover: #fde4e0;
$in-range-disabled: #fff8f7;
$disabled-color: $gray-7;

@mixin date-cell-style($col-width, $col-margin) {
  position: relative;
  width: $col-width + $col-margin * 2;
  height: $col-width;
  padding-right: $col-margin;
  padding-left: $col-margin;

  &.line-start {
    padding-left: 0;
  }

  &.line-end {
    padding-right: 0;
  }

  &.in-range,
  &.in-selecting-range {
    &::before,
    &::after {
      position: absolute;
      top: 0;
      z-index: 0;
      height: 100%;
      content: '';
    }

    &::before {
      left: -($col-margin - 2);
      width: $col-width;
      border-bottom-left-radius: $date-border-radius;
      border-top-left-radius: $date-border-radius;
    }

    &::after {
      right: -($col-margin - 2);
      width: $col-width;
      border-top-right-radius: $date-border-radius;
      border-bottom-right-radius: $date-border-radius;
    }

    &.month-start::before,
    &.month-end::after,
    &.line-start::before,
    &.line-end::after {
      display: none;
    }

    &.selected {
      &::before,
      &::after {
        display: none;
      }
    }
  }

  &.in-selecting-range {
    &::before,
    &::after {
      background-color: $bg-color;
    }
  }

  &.in-range {
    &::before,
    &::after {
      background-color: $in-range-bg;
    }

    &.disabled-prev::after,
    &.disabled-next::before {
      display: none;
    }

    &.disabled {
      &::before,
      &::after {
        background-color: $in-range-disabled;
      }
    }

    &.in-selecting-range {
      &::before,
      &::after {
        background-color: $in-range-bg-hover;
      }

      &.disabled {
        &::before,
        &::after {
          background-color: $in-range-disabled;
        }
      }
    }
  }
}

@mixin date-cell-inner-style($cell-width, $cell-height, $action-active: true) {
  position: relative;
  display: inline-block;
  width: $cell-width;
  height: $cell-height;
  line-height: $cell-height;
  text-align: center;
  word-break: keep-all;
  vertical-align: middle;
  border-radius: $date-border-radius;

  @if $action-active {
    cursor: pointer;

    &.current {
      font-weight: 500;
      color: $primary-color;

      // &::after {
      //   position: absolute;
      //   bottom: -6px;
      //   left: 50%;
      //   width: 4px;
      //   height: 4px;
      //   margin-left: -2px;
      //   background-color: $primary-color;
      //   border-radius: 50%;
      //   content: '';
      // }

      // &.disabled::after {
      //   background-color: $disabled-color;
      // }
    }

    &:hover,
    &.in-selecting-range,
    &.selecting-range-start,
    &.selecting-range-end {
      background-color: $bg-color;
    }

    &.in-range {
      background-color: $in-range-bg;

      &:hover,
      &.in-selecting-range,
      &.selecting-range-start,
      &.selecting-range-end {
        background-color: $in-range-bg-hover;
      }
    }

    &.selected,
    &.selected:hover {
      &:not(.selecting-range-end) {
        color: $white;
        background-color: $primary-color;
      }

      &.range-start,
      &.range-end {
        color: $white;
        background-color: $primary-color;
      }
    }

    &.disabled {
      cursor: not-allowed;
      opacity: .5;

      &,
      &:hover {
        &:not(.current) {
          color: $disabled-color;
        }
      }

      &.selected,
      &.selected:hover {
        color: $white;
      }

      &.in-range,
      &.in-selecting-range {
        color: $disabled-color;
        background-color: $in-range-disabled;
      }
    }
  }
}
