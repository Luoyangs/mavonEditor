@import '../../var';

$popover-popper-gap-with-arrow: 10px;
$arrow-size: 10px;
$arrow-margin-top: 8px;
$arrow-margin-left: 16px;

.shopee-popover {
  display: inline-block;

  &__ref {
    display: inline-block;
  }

  &__content {
    padding: 12px 16px;
    background-color: inherit;
    border-radius: 4px;
  }
}

.shopee-popover__popper {
  &.shopee-popper {
    z-index: 1;
    min-width: 80px;
    font-size: 14px;
    line-height: 18px;
    word-wrap: break-word;
    border: 1px solid transparent;
    border-radius: 3px;
    box-shadow: $popper-shadow;

    &.with-arrow {
      &::before {
        position: absolute;
        z-index: -1;
        width: $arrow-size;
        height: $arrow-size;
        background-color: inherit;
        border-color: inherit;
        border-style: solid;
        border-width: 0;
        content: '';
        transform: rotate(45deg);
        box-shadow: inherit;
      }

      &[x-placement^='bottom'] {
        margin-top: $popover-popper-gap-with-arrow;

        &::before {
          top: -$arrow-size / 2;
          left: 50%;
          margin-left: -$arrow-size / 2;
          border-top-width: 1px;
          border-left-width: 1px;
        }
      }

      &[x-placement^='top'] {
        margin-bottom: $popover-popper-gap-with-arrow;

        &::before {
          bottom: -$arrow-size / 2;
          left: 50%;
          margin-left: -$arrow-size / 2;
          border-right-width: 1px;
          border-bottom-width: 1px;
        }
      }

      &[x-placement^='left'] {
        margin-right: $popover-popper-gap-with-arrow;

        &::before {
          top: 50%;
          right: -$arrow-size / 2;
          margin-top: -$arrow-size / 2;
          border-top-width: 1px;
          border-right-width: 1px;
        }
      }

      &[x-placement^='right'] {
        margin-left: $popover-popper-gap-with-arrow;

        &::before {
          top: 50%;
          left: -$arrow-size / 2;
          margin-top: -$arrow-size / 2;
          border-bottom-width: 1px;
          border-left-width: 1px;
        }
      }


      &[x-placement^='top-start'],
      &[x-placement^='bottom-start'] {
        &::before {
          left: $arrow-margin-left;
          margin-left: 1px;
        }
      }

      &[x-placement^='top-end'],
      &[x-placement^='bottom-end'] {
        &::before {
          right: $arrow-margin-left;
          left: auto;
          margin-right: 1px;
        }
      }

      &[x-placement^='left-start'],
      &[x-placement^='right-start'] {
        &::before {
          top: $arrow-margin-top;
          margin-top: 1px;
        }
      }

      &[x-placement^='left-end'],
      &[x-placement^='right-end'] {
        &::before {
          top: auto;
          bottom: $arrow-margin-top;
          margin-bottom: 1px;
        }
      }
    }
  }
}

.shopee-popover__popper--dark {
  &.shopee-popper {
    color: $white;
    background-color: $black;
    opacity: .8;
  }
}

.shopee-popover__popper--light {
  &.shopee-popper {
    color: $text-color-primary;
    background-color: $white;
  }
}

@include make-transition('zoom-fast') {
  opacity: 0;
  transform: scale(.8);
}
