@import '../../var';

$x-large-width: 80px;
$x-large-height: 40px;
$x-large-dot-size: 34px;

$large-width: 64px;
$large-height: 32px;
$large-dot-size: 28px;


$normal-width: 48px;
$normal-height: 24px;
$normal-dot-size: 20px;

$small-width: 32px;
$small-height: 16px;
$small-dot-size: 12px;

$x-large-gap-size: ($x-large-height - $x-large-dot-size) / 2;
$large-gap-size: ($large-height - $large-dot-size) / 2;
$normal-gap-size: ($normal-height - $normal-dot-size) / 2;
$small-gap-size: ($small-height - $small-dot-size) / 2;

$open-bg-color: $green;
$close-bg-color: $gray;

$loading-opacity: .8;
$name: shopee-switch;
$time: .3s;

@mixin size($width, $height, $dot-size, $font-size) {
  width: $width;
  height: $height;
  font-size: $font-size;
  line-height: $height;
  border-radius: $height / 2;

  &::before {
    width: $dot-size;
    height: $dot-size;
  }

  &::after {
    left: $width + 5;
    line-height: $height;
  }
}

.#{$name} {
  position: relative;
  display: inline-block;
  vertical-align: middle;
  cursor: pointer;
  transition: background-color $time $ease-in-out;

  &::before {
    position: absolute;
    right: 100%;
    left: 0;
    display: inline-block;
    margin-top: 2px;
    background-color: $white;
    border-radius: 50%;
    content: '';
    transition: left $time $ease-in-out;
  }

  &__label {
    position: absolute;
    left: 7px;
    font-size: 12px;
    color: $white;
    transition: left $time $ease-in-out;

    &--inactive {
      right: 8px;
      left: unset;
      transition: right $time $ease-in-out;
    }
  }

  &--open {
    background-color: $open-bg-color;
  }

  &--close {
    background-color: $close-bg-color;
  }

  &--x-large.#{$name}--open::before { // sass-lint:disable-line force-element-nesting
    left: $x-large-width - $x-large-dot-size - $x-large-gap-size;
    margin-top: $x-large-gap-size;
  }

  &--x-large.#{$name}--close::before { // sass-lint:disable-line force-element-nesting
    left: $x-large-gap-size;
    margin-top: $x-large-gap-size;
  }

  &--large.#{$name}--open::before { // sass-lint:disable-line force-element-nesting
    left: $large-width - $large-dot-size - $large-gap-size;
    margin-top: $large-gap-size;
  }

  &--large.#{$name}--close::before { // sass-lint:disable-line force-element-nesting
    left: $large-gap-size;
    margin-top: $large-gap-size;
  }

  &--normal.#{$name}--open::before { // sass-lint:disable-line force-element-nesting
    left: $normal-width - $normal-dot-size - $normal-gap-size;
  }

  &--normal.#{$name}--close::before { // sass-lint:disable-line force-element-nesting
    left: $normal-gap-size;
    margin-top: $normal-gap-size;
  }

  &--small.#{$name}--open::before { // sass-lint:disable-line force-element-nesting
    left: $small-width - $small-dot-size - $small-gap-size;
    margin-top: $small-gap-size;
  }

  &--small.#{$name}--close::before { // sass-lint:disable-line force-element-nesting
    left: $small-gap-size;
    margin-top: $small-gap-size;
  }

  &--x-large {
    @include size($x-large-width, $x-large-height, $x-large-dot-size, 14px);
  }

  &--large {
    @include size($large-width, $large-height, $large-dot-size, 14px);
  }

  &--normal {
    @include size($normal-width, $normal-height, $normal-dot-size, 14px);
  }

  &--small {
    @include size($small-width, $small-height, $small-dot-size, 12px);
  }

  &--loading {
    opacity: $loading-opacity;
  }

  &--disabled {
    cursor: not-allowed;
    background-color: $close-bg-color;
    opacity: .5;

    &.#{$name}--open {
      background-color: $open-bg-color;
    }
  }
}
