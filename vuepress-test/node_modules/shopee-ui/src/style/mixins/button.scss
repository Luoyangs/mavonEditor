@import '../var';

@mixin button-style($color, $background-color, $border-color) {
  @include button-before-style;
  color: $color;
  background-color: $background-color;
  border-color: $border-color;

  &.shopee-button--outline {
    @include button-before-style($background-color);
    color: $background-color;
    background-color: transparent;
    border-color: $border-color;
  }

  &.shopee-button--frameless {
    @include button-before-style($background-color);
    color: $background-color;
    background-color: transparent;
    border-color: transparent;
  }
}

@mixin button-before-style($cover-color: $black) {
  $hover-cover-color: rgba(transparent, 0);
  $active-cover-color: rgba(transparent, 0);
  $loading-cover-color: rgba($white, .4);

  @if $cover-color {
    $hover-cover-color: rgba($cover-color, .04);
    $active-cover-color: rgba($cover-color, .08);
  }

  &:hover::before {
    background-color: $hover-cover-color;
  }

  &:active::before {
    background-color: $active-cover-color;
  }

  // loading style
  &.loading::before {
    z-index: 1;
    background-color: $loading-cover-color;
  }
}

@mixin button-focus-style($shadow-color) {
  $focus-box-shadow: 0 0 0 2px $white, 0 0 0 4px rgba($shadow-color, .3);

  html[data-focus-visible] &:focus { // sass-lint:disable-line force-attribute-nesting no-qualifying-elements
    box-shadow: $focus-box-shadow;
  }
}
